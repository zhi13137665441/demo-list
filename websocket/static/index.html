<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
</head>
<body>
  <h1>socket连接</h1>

  <script>
  socket = new WebSocket("ws://localhost:8765");
  // 当连接建立时执行的逻辑
  socket.onopen = function() {
    console.log("WebSocket 连接已建立");
  };
  // 当连接关闭时执行的逻辑
  
  socket.onclose = function() {
      console.log("WebSocket 连接已关闭");
  };
  
  socket.onmessage = function(event){
        // 循环向所有端口广播
        console.log(event.data)
    }

  </script>
</body>
</html>